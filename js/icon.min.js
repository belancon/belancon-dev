Icon={getAll:function(t,e,a){var n=this,a=a?a:"";$.ajax({type:"post",url:BASE_URL+"icon/get_all",cache:!1,data:{page:t,by:e,search:a},success:function(t){t=JSON.parse(t);var e=[],a=t.data;if(a.length>0)for(var i=0;i<a.length;i++)n.setSingleContent(a[i],function(t){e.push(t)});else e.push('<h2 class="text-center" style="color: #3d3938;">Maaf, Icon tidak ditemukan</h2>');$("#icon-list").append.apply($("#icon-list"),e),n.setLoadMore(t.more,t.page)},error:function(){alert("Error while request..")}})},getCart:function(){var t=this;$(".dropdown-keranjang").html("");var e='<li class="divider"></li>';e+='<li style="padding-top: 20px; padding-bottom: 30px;" id="btn-download-cart">',e+='<a href="'+BASE_URL+'cart">',e+='<span class="green-color glyphicon glyphicon-save" aria-hidden="true"></span> Download all Icons </a> </li>';var a='<li style="padding-top: 20px; padding-bottom: 30px;" id="li-cart-empty">Cart Empty</li>';$.ajax({type:"post",url:BASE_URL+"icon/get_cart",cache:!1,data:{},success:function(n){n=JSON.parse(n);var i=[],o=n.data,r=o.length<3?o.length:3;if(o.length>0){for(var s=0;r>s;s++){t.setSingleItemOnCart(o[s],function(t){i.push(t)})}i.push(e),$(".total-icons-keranjang").show()}else $(".total-icons-keranjang").hide(),i.push(a);$(".dropdown-keranjang").append.apply($(".dropdown-keranjang"),i)},error:function(){alert("Error while request..")}})},addToCart:function(t,e,a){var n=this;$('.download-icon[data-id="'+t+'"]').html(""),$.ajax({type:"post",url:BASE_URL+"icon/add_to_cart",cache:!1,data:{id:t},success:function(i){if(i=JSON.parse(i),i.status===!0){n.getCart(),n.setBtnRemoveIcon(t,e,function(e){$('.download-icon[data-id="'+t+'"]').append(e)});var o={debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"100",hideDuration:"100",timeOut:"1000",extendedTimeOut:"300",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.success("Success ditambahkan ke keranjang.",e,"Success !",o),a&&a(i.status)}},error:function(){n.setBtnAddIcon(t,e,function(e){$('.download-icon[data-id="'+t+'"]').append(e)});var i={debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"100",hideDuration:"500",timeOut:"1000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.success("Terjadi kesalahan pada sistem.","Oops...",i),a&&a(response.status)}})},removeFromCart:function(t,e,a){var n=this;swal({title:"Hapus Icon",text:"Ingin menghapus icon "+e+" dari cart?",type:"warning",showCancelButton:!0,closeOnConfirm:!0,showLoaderOnConfirm:!0},function(){$('.download-icon[data-id="'+t+'"]').html(""),$.ajax({type:"post",url:BASE_URL+"icon/remove_from_cart",cache:!1,data:{id:t},success:function(i){if(i=JSON.parse(i),i.status===!0){var o={debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"100",hideDuration:"300",timeOut:"1000",extendedTimeOut:"300",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.success("Success dihapus dari keranjang.",e,"Terhapus !",o),n.setBtnAddIcon(t,e,function(e){$('.download-icon[data-id="'+t+'"]').append(e)}),a&&a(i),Belancon.isPageDetailIcon(function(a){a===!0&&n.setButtonAddToCartPageDetail(t,e)})}else{var o={debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"100",hideDuration:"300",timeOut:"1000",extendedTimeOut:"300",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.error("Icons gagal dihapus dari keranjang..","Warning !",o),n.setBtnRemoveIcon(t,e,function(e){$('.download-icon[data-id="'+t+'"]').append(e)}),a&&a(i)}Icon.getCart(),Cart.getAll()},error:function(){n.setBtnRemoveIcon(t,e,function(e){$('.download-icon[data-id="'+t+'"]').append(e)});var a={debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"100",hideDuration:"300",timeOut:"1000",extendedTimeOut:"300",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.error("Terjadi kesalahan pada sistem.","Warning !",a)}})})},setSingleItemOnCart:function(t,e){var a=document.createElement("li"),n=document.createElement("img"),i=document.createElement("span"),o=document.createElement("a"),r=document.createElement("i"),s=document.createTextNode(" Hapus");return o.setAttribute("class","black-color btn-remove-cart"),o.setAttribute("data-id",t.id),o.setAttribute("data-name",t.name),o.setAttribute("href","javascript:void(0)"),r.setAttribute("class","green-color fa fa-trash"),o.appendChild(r),o.appendChild(s),i.appendChild(o),n.setAttribute("alt",t.name),n.setAttribute("src",t.path),a.setAttribute("id","item-cart-"+t.id),a.appendChild(n),a.appendChild(i),e(a),!0},setSingleContent:function(t,e){var a=document.createElement("div"),n=document.createElement("span"),i=document.createElement("span"),o=document.createElement("div"),r=document.createElement("img"),s=document.createElement("a");return a.setAttribute("class","col-md-2 col-xs-4 col-sm-3 icon-item"),n.setAttribute("class","download-icon"),n.setAttribute("data-id",t.id),i.setAttribute("class","view-icon"),t.onCart===!0?this.setBtnRemoveIcon(t.id,t.name,function(t){n.appendChild(t)}):this.setBtnAddIcon(t.id,t.name,function(t){n.appendChild(t)}),o.setAttribute("class","text-center img-icon"),r.setAttribute("src",t.path),r.setAttribute("height","80"),r.setAttribute("data-icon-type","cc"),r.setAttribute("id",t.id),o.appendChild(r),s.setAttribute("href",BASE_URL+"icons/"+t.url),s.setAttribute("class","fa fa-eye fa-lg btn-view-icon"),i.appendChild(s),a.appendChild(n),a.appendChild(i),a.appendChild(o),e(a),!0},setBtnAddIcon:function(t,e,a){var n=document.createElement("a"),i=document.createElement("i");return n.setAttribute("class","btn-add-cart"),n.setAttribute("data-id",t),n.setAttribute("data-name",e),n.setAttribute("href","javascript:void(0)"),i.setAttribute("class","fa fa-shopping-basket"),n.appendChild(i),a(n),!0},setBtnRemoveIcon:function(t,e,a){var n=document.createElement("a"),i=document.createElement("i");return n.setAttribute("class","btn-remove-cart"),n.setAttribute("data-id",t),n.setAttribute("data-name",e),n.setAttribute("href","javascript:void(0)"),i.setAttribute("class","fa fa-trash"),n.appendChild(i),a(n),!0},setLoadMore:function(t,e){if($("#content-loadmore").html(""),t===!0){var a=document.createElement("a"),n=document.createTextNode("SELANJUTNYA");a.setAttribute("class","btn btn-primary btn-load-more"),a.setAttribute("id","btn-load-more"),a.setAttribute("data-page",e),a.setAttribute("href","javascript:void(0)"),a.appendChild(n),$("#content-loadmore").html(a),$("#content-loadmore").show()}else $("#content-loadmore").hide()},changefilter:function(t){this.clearList();var e=Belancon.getUrlParameter("search")?Belancon.getUrlParameter("search"):null,a=e?e:"",n=1;Icon.getAll(n,t,a),""!==a?window.history.pushState("","",BASE_URL+"?by="+t+"&search="+a):window.history.pushState("","",BASE_URL+"?by="+t)},search:function(t){this.clearList();var e=1,a=Belancon.getUrlParameter("by")?Belancon.getUrlParameter("by"):null,n=a?a:"newest";Icon.getAll(e,n,t),window.history.pushState("","",BASE_URL+"?by="+n+"&search="+t)},clearList:function(){$("#icon-list").html("")},view:function(t,e){$("#modal-content-large-icon").html(""),$.ajax({type:"post",url:BASE_URL+"icon/get_one",cache:!1,data:{id:t},success:function(t){t=JSON.parse(t);var a=t.data,n='<img src="'+a.path+'" />';$("#modal-content-large-icon").append(n),e(t.status)},error:function(){var t={debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"300",hideDuration:"300",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.error("Terjadi kesalahan pada sistem.","Warning !",t)}})},setButtonAddToCartPageDetail:function(t,e){console.log("setButtonAddToCartPageDetail"),$("#div-action-cart").html("");var a='<a href="#" class="btn-detail-add-cart" data-id="'+t+'" data-name="'+e+'">';a+='<div class="col-md-12 btn-cart">Tambahkan ke keranjang</div>',a+="</a>",$("#div-action-cart").append(a)},setButtonRemoveFromCartPageDetail:function(t,e){$("#div-action-cart").html("");var a='<a href="#" class="btn-detail-remove-cart" data-id="'+t+'" data-name="'+e+'">';a+='<div class="col-md-12 btn-cart">Remove from Cart</div>',a+="</a>",$("#div-action-cart").append(a)}};